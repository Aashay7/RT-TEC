global:
  scrape_interval: 5s
  evaluation_interval: 5s

scrape_configs:
  # API (FastAPI /metrics)
  - job_name: 'api'
    metrics_path: /metrics
    static_configs:
      - targets: ['api:8080']

  # Triton (port 8002 exposes Prometheus metrics)
  - job_name: 'triton'
    metrics_path: /metrics
    static_configs:
      - targets: ['triton:8002']

  # Redpanda (Prometheus endpoint on 9644)
  - job_name: 'redpanda'
    metrics_path: /metrics
    static_configs:
      - targets: ['redpanda:9644']

rule_files:
  - /etc/prometheus/alerts.yml